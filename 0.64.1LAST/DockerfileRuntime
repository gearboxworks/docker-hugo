
################################################################################
# WARNING: This file has been auto-generated. DO NOT EDIT: WARNING
# Created on 2020-02-18T21:29:56+1100, using template:DockerfileRuntime.tmpl and json:gearbox.json
# Plain Docker container for docker-hugo based off gearboxworks/gearbox-base:alpine-3.10

ARG VERSION=0.64.1

# 1. First reference the gearbox-base image.
FROM gearboxworks/gearbox-base:alpine-3.10
ARG VERSION
ARG GEARBOX_ENTRYPOINT

# 2. Set up env variables.
MAINTAINER Gearbox Team <team@gearbox.works>
ENV GEARBOX_CONTAINER_NAME "docker-hugo"
ENV GEARBOX_CONTAINER_VERSION ${VERSION}
ENV GEARBOX_ENTRYPOINT ${GEARBOX_ENTRYPOINT}
LABEL gearbox.json='{"state": "production","organization": "gearboxworks","name": "hugo","maintainer": "Gearbox Team <team@gearbox.works>","version": "0.64.1","majorversion": "0.64","latest": "1","class": "webserver","network": "--network gearboxnet","ports": ["80","1313"],"volumes": "","restart": "--restart no","args": "","env": {"HUGO_USER": "gearbox"},"refurl": "https://www.hugo.org/","base": "gearboxworks/gearbox-base:alpine-3.10"}'
LABEL container.args=""
LABEL container.base="gearboxworks/gearbox-base:alpine-3.10"
LABEL container.class="webserver"
LABEL container.env="map[HUGO_USER:gearbox]"
LABEL container.latest="1"
LABEL container.maintainer="Gearbox Team <team@gearbox.works>"
LABEL container.majorversion="0.64"
LABEL container.name="hugo"
LABEL container.network="--network gearboxnet"
LABEL container.organization="gearboxworks"
LABEL container.ports="[80 1313]"
LABEL container.refurl="https://www.hugo.org/"
LABEL container.restart="--restart no"
LABEL container.state="production"
LABEL container.version="0.64.1"
LABEL container.volumes=""

ENV GEARBOX_ARGS ""
ENV GEARBOX_BASE "gearboxworks/gearbox-base:alpine-3.10"
ENV GEARBOX_CLASS "webserver"

ENV GEARBOX_LATEST "1"
ENV GEARBOX_MAINTAINER "Gearbox Team <team@gearbox.works>"
ENV GEARBOX_MAJORVERSION "0.64"
ENV GEARBOX_NAME "hugo"
ENV GEARBOX_NETWORK "--network gearboxnet"
ENV GEARBOX_ORGANIZATION "gearboxworks"
ENV GEARBOX_PORTS "[80 1313]"
ENV GEARBOX_REFURL "https://www.hugo.org/"
ENV GEARBOX_RESTART "--restart no"
ENV GEARBOX_STATE "production"
ENV GEARBOX_VERSION "0.64.1"
ENV GEARBOX_VOLUMES ""

ENV HUGO_USER "gearbox"


# 3. Now copy the local files specific to this container.
COPY build /etc/gearbox
COPY ${VERSION}/build /etc/gearbox
COPY ${VERSION}/gearbox.json /etc/gearbox/gearbox.json

# 4. Run the base.sh script to set everything up.
RUN /bin/bash /etc/gearbox/build/base.sh

# 5. Run the hugo.sh script to set everything up.
RUN /bin/bash /etc/gearbox/build/hugo.sh

# 6. Expose ports.
EXPOSE 22 9970 80 1313 
WORKDIR /home/gearbox/projects

# END
################################################################################


